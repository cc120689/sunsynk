Example of automation to Charge the battery in the program 1 time in the months of March and September if the expected production of the following day is going to be less than 10kwh as long as the price in that hourly period is less than 0.05cts.
Using sunsynk Kellerza add on and Forecast.Solar integration.

alias: Cargar bateria noche
description: ""
trigger:
  - platform: time
    at: "23:55:00"
condition:
  - condition: template
    value_template: "{{ now().month in [3, 9] }} "
    alias: "Marzo y Septiembre "
  - condition: numeric_state
    entity_id: sensor.energy_production_tomorrow
    below: 15
  - condition: numeric_state
    entity_id: sensor.esios_pvpc
    attribute: price_next_day_00h
    below: 0.05
action:
  - device_id: 1d0794ae215d5051bf06926b63209edf
    domain: select
    entity_id: select.prog1_mode
    type: select_option
    option: Charge
mode: single
